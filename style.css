:root{
  --bg1:#ff4fa3;
  --bg2:#7a1b88;
  --card:#fff3f7;
  --ink:#2a1b2b;

  --wood:#6b3f25;
  --wood2:#7a4a2a;
  --leaf:#ff2f86;

  /* Duración total del loop */
  --loop: 9s;
}

*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
  background:
    radial-gradient(circle at 20% 20%, rgba(255,255,255,.25), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(255,255,255,.18), transparent 45%),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  overflow:hidden;
}

.card{
  width:min(920px, 94vw);
  min-height:520px;
  background:var(--card);
  border-radius:24px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  padding:24px;
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap:18px;
}

@media (max-width: 820px){
  .card{grid-template-columns:1fr; min-height:640px;}
}

.text h1{
  margin:0 0 12px;
  font-size: clamp(22px, 3.2vw, 34px);
}
#typewriter{
  font-size: clamp(18px, 2.2vw, 24px);
  line-height:1.35;
  min-height: 6.5em;
  white-space: pre-wrap;
}
.since{margin-top:14px; opacity:.8;}

.scene{
  position:relative;
  border-radius:18px;
  background:rgba(255,255,255,.65);
  overflow:hidden;
  min-height:420px;
}

/* ======= ÁRBOL SVG ======= */
.tree{
  width:100%;
  height:100%;
  position:absolute;
  inset:0;
}

/* Trazos estilo “dibujo” */
.trunk, .branch, .root{
  fill:none;
  stroke-linecap:round;
  stroke-linejoin:round;
  filter: drop-shadow(0 10px 10px rgba(0,0,0,.14));
}

/* Tronco más grueso */
.trunk{
  stroke: var(--wood2);
  stroke-width: 16;
}

/* Ramas */
.branch{
  stroke: var(--wood);
  stroke-width: 12;
}

/* Raíces */
.root{
  stroke: var(--wood);
  stroke-width: 10;
  opacity: .0; /* aparece al inicio */
  animation: rootIn var(--loop) ease-in-out infinite;
}

/* “Dibujar” con dash */
.trunk, .branch{
  stroke-dasharray: 500;
  stroke-dashoffset: 500;
  animation: drawTree var(--loop) ease-in-out infinite;
}

/* Retrasos: raíz -> tronco -> ramas */
.trunk{ animation-delay: 0s; }
.branch:nth-of-type(2){ animation-delay: .6s; }
.branch:nth-of-type(3){ animation-delay: .8s; }
.branch:nth-of-type(4){ animation-delay: 1.0s; }
.branch:nth-of-type(5){ animation-delay: 1.2s; }

/* Hojas (corazones) brotan después */
.leaves .leaf{
  fill: var(--leaf);
  opacity: 0;
  transform-origin: center;
  transform: scale(.2);
  animation: leavesBloom var(--loop) ease-in-out infinite;
}

/* Variaciones para que no salgan iguales */
.leaves .leaf:nth-child(1){ animation-delay: 2.0s; }
.leaves .leaf:nth-child(2){ animation-delay: 2.2s; }
.leaves .leaf:nth-child(3){ animation-delay: 2.35s; }
.leaves .leaf:nth-child(4){ animation-delay: 2.0s; }
.leaves .leaf:nth-child(5){ animation-delay: 2.25s; }
.leaves .leaf:nth-child(6){ animation-delay: 2.45s; }
.leaves .leaf:nth-child(7){ animation-delay: 2.15s; }
.leaves .leaf:nth-child(8){ animation-delay: 2.35s; }
.leaves .leaf:nth-child(9){ animation-delay: 2.55s; }

/* ======= CORAZONES QUE CAEN ======= */
.falling{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.fall-heart{
  position:absolute;
  width:14px;
  height:14px;
  transform: rotate(45deg);
  opacity:0;
  left: var(--x);
  top: var(--y);
  animation: fall var(--dur) linear forwards;
  filter: drop-shadow(0 8px 8px rgba(0,0,0,.12));
}
.fall-heart::before,
.fall-heart::after{
  content:"";
  position:absolute;
  width:14px;
  height:14px;
  background: var(--c);
  border-radius:50%;
}
.fall-heart{ background: var(--c); }
.fall-heart::before{ left:-7px; top:0; }
.fall-heart::after{ left:0; top:-7px; }

/* ======= KEYFRAMES (timeline del loop) ======= */

/* Raíz aparece rápido, luego se va al final para reiniciar */
@keyframes rootIn{
  0%{ opacity:0; }
  8%{ opacity:1; }
  85%{ opacity:1; }
  100%{ opacity:0; }
}

/* Dibuja de abajo hacia arriba y luego “reset” */
@keyframes drawTree{
  0%   { stroke-dashoffset: 500; opacity:1; }
  28%  { stroke-dashoffset: 0; opacity:1; }   /* árbol dibujado */
  85%  { stroke-dashoffset: 0; opacity:1; }
  100% { stroke-dashoffset: 500; opacity:0; } /* reset */
}

/* Brote: aparece y late suave, luego desaparece para reiniciar */
@keyframes leavesBloom{
  0%   { opacity:0; transform: scale(.2); }
  25%  { opacity:0; transform: scale(.2); }
  38%  { opacity:1; transform: scale(1.15); }
  50%  { opacity:1; transform: scale(1.0); }
  70%  { opacity:1; transform: scale(1.04); }
  85%  { opacity:1; transform: scale(1.
